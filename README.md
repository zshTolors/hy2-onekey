# ğŸŒ€ hy2-onekey

> **Hysteria2 ä¸€é”®éƒ¨ç½²è„šæœ¬**  
> è‡ªåŠ¨éƒ¨ç½² Hysteria2 æœåŠ¡ç«¯ï¼Œå¹¶ç”Ÿæˆå¯ç›´æ¥ä½¿ç”¨çš„ Clash è®¢é˜…é…ç½®  
> ä¸€é”®æ­å»ºè‡ªå·±çš„VPN / Clashè®¢é˜…é“¾æ¥  
> æ”¯æŒ Ubuntu / Debian / CentOS / Rocky / AlmaLinux  
> **ä¸ç ´åç°æœ‰ Nginx ç¯å¢ƒ**

---

## âœ¨ é¡¹ç›®ç®€ä»‹

`hy2-onekey` æ˜¯ä¸€ä¸ª **å®‰å…¨ã€å¯å¤ç”¨ã€æœ€å°ä¾µå…¥** çš„ Hysteria2 ä¸€é”®å®‰è£…è„šæœ¬ï¼Œç›®æ ‡æ˜¯ï¼š

- è®©æ™®é€šç”¨æˆ· **æ— éœ€ç†è§£å¤æ‚é…ç½®**
- è®©å·²æœ‰æœåŠ¡å™¨ **ä¸ä¼šè¢«è„šæœ¬â€œæ±¡æŸ“â€æˆ–ç ´å**
- è‡ªåŠ¨ç”Ÿæˆ **Clash / Clash Meta / Stash å¯ç›´æ¥ä½¿ç”¨çš„è®¢é˜…é…ç½®**

æœ¬é¡¹ç›® **ä¸ä¾èµ–ä»»ä½•ä¸ªäººæœåŠ¡å™¨æˆ–ç§æœ‰åŸŸå**ï¼Œæ‰€æœ‰è„šæœ¬å‡é€šè¿‡ **GitHub å®˜æ–¹ Raw åœ°å€åˆ†å‘**ï¼Œé€‚åˆé•¿æœŸä½¿ç”¨ä¸å¼€æºç»´æŠ¤ã€‚

---

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

- âœ… ä¸€é”®å®‰è£… Hysteria2 æœåŠ¡ç«¯
- âœ… è‡ªåŠ¨ç”³è¯· Let's Encrypt TLS è¯ä¹¦
- âœ… è‡ªåŠ¨å¤„ç†è¯ä¹¦æƒé™é—®é¢˜
- âœ… è‡ªåŠ¨æ”¾è¡Œ UDP ç«¯å£
- âœ… è‡ªåŠ¨æ³¨å†Œ systemd æœåŠ¡å¹¶å¯åŠ¨
- âœ… è‡ªåŠ¨ç”Ÿæˆ Clash å®Œæ•´é…ç½®ï¼ˆrule æ¨¡å¼ï¼‰
- âœ… è‡ªåŠ¨ç”Ÿæˆå¯è®¢é˜…çš„ YAML æ–‡ä»¶
- âœ… **ä¸ä¼šè¦†ç›–æˆ–ä¿®æ”¹å·²æœ‰ Nginx é…ç½®**
- âœ… æ”¯æŒ `curl | bash` äº¤äº’è¿è¡Œ

---

## ğŸ–¥ï¸ æ”¯æŒç³»ç»Ÿ

| ç³»ç»Ÿ              | æ”¯æŒæƒ…å†µ |
| ----------------- | -------- |
| Ubuntu            | âœ…        |
| Debian            | âœ…        |
| CentOS 7 / 8      | âœ…        |
| Rocky Linux       | âœ…        |
| AlmaLinux         | âœ…        |
| å…¶ä»– systemd ç³»ç»Ÿ | ç†è®ºæ”¯æŒ |

---

## ğŸŒ ä½¿ç”¨å‰å‡†å¤‡ï¼ˆéå¸¸é‡è¦ï¼‰

åœ¨è¿è¡Œè„šæœ¬ä¹‹å‰ï¼Œä½  **å¿…é¡»å…·å¤‡ä¸€ä¸ªè‡ªå·±çš„åŸŸå**ï¼Œå¹¶å®ŒæˆåŸŸåè§£æã€‚

### 1ï¸âƒ£ å‡†å¤‡åŸŸå

- ä»»æ„ä½ å¯æ§åˆ¶çš„åŸŸåå‡å¯  

### 2ï¸âƒ£ é…ç½® DNS è§£æ

åœ¨ä½ çš„åŸŸå DNS ç®¡ç†é¢æ¿ä¸­ï¼Œæ·»åŠ  **A è®°å½•**ï¼š

| ç±»å‹ | ä¸»æœºå | æŒ‡å‘ |
|----|----|----|
| A | v.example.com | ä½ çš„æœåŠ¡å™¨å…¬ç½‘ IP |

> âš ï¸ åŸŸåå¿…é¡» **æå‰è§£æåˆ°æœåŠ¡å™¨ IP**  
> å¦åˆ™ Letâ€™s Encrypt è¯ä¹¦ç”³è¯·ä¼šå¤±è´¥ã€‚

ä½ å¯ä»¥åœ¨æœåŠ¡å™¨ä¸ŠéªŒè¯è§£ææ˜¯å¦ç”Ÿæ•ˆï¼š
```bash
ping v.example.com
```

---

## ğŸ“¦ å®‰è£…ä½¿ç”¨ï¼ˆä¸€è¡Œå‘½ä»¤ï¼‰

```bash
curl -fsSL https://raw.githubusercontent.com/zshTolors/hy2-onekey/main/install-hy2.sh | bash
```

æˆ–ï¼š

```bash
wget https://raw.githubusercontent.com/zshTolors/hy2-onekey/main/install-hy2.sh
chmod +x install-hy2.sh
./install-hy2.sh
```

---

## ğŸ§­ å®‰è£…è¿‡ç¨‹è¯´æ˜

è„šæœ¬ä¼šå¼•å¯¼ä½ è¾“å…¥ï¼š

- ğŸ“ åŸŸåï¼ˆéœ€å·²è§£æåˆ°å½“å‰æœåŠ¡å™¨ IPï¼‰
- ğŸ”¢ UDP ç›‘å¬ç«¯å£ï¼ˆå»ºè®® 20000â€“40000ï¼‰
- ğŸ” è¿æ¥å¯†ç 

è„šæœ¬å°†è‡ªåŠ¨å®Œæˆï¼š

1. ç³»ç»Ÿä¾èµ–å®‰è£…
2. TLS è¯ä¹¦ç”³è¯·ï¼ˆstandalone æ¨¡å¼ï¼‰
3. Hysteria2 å®‰è£…ä¸é…ç½®
4. UDP ç«¯å£æ”¾è¡Œ
5. systemd æœåŠ¡å¯åŠ¨
6. Clash é…ç½®ç”Ÿæˆ
7. è®¢é˜…æ–‡ä»¶å‘å¸ƒï¼ˆHTTPï¼‰

---

## ğŸ“„ å®‰è£…å®Œæˆå

- Clash é…ç½®æ–‡ä»¶ï¼š`/root/hy2/clash.yaml`
- è®¢é˜…åœ°å€ï¼š`http://<æœåŠ¡å™¨IP>/clash/clash.yaml`

---

## â“ å¸¸è§é—®é¢˜ï¼ˆFAQï¼‰
### Q1ï¼šå®¢æˆ·ç«¯æç¤º `unsupported proxy type: hysteria2`

è¿™æ˜¯å®¢æˆ·ç«¯ä¸æ”¯æŒ Hysteria2 åè®®å¯¼è‡´çš„ã€‚

è¯·ä½¿ç”¨ï¼š

- [Clash Verge Rev ](https://github.com/clash-verge-rev/clash-verge-rev)

- [FLClash](https://github.com/chen08209/FlClash)

### Q2ï¼šä¸ºä»€ä¹ˆä¸ç”¨ HTTPS æä¾›è®¢é˜…ï¼Ÿ

è¿™æ˜¯ **æœ‰æ„çš„å®‰å…¨è®¾è®¡**ï¼š

- ä¸è¦†ç›–ç”¨æˆ·å·²æœ‰ HTTPS ç«™ç‚¹

- ä¸è‡ªåŠ¨æ³¨å…¥ Nginx é…ç½®

- ä¸åˆ¶é€ â€œé»‘ç®±è¡Œä¸ºâ€

å¦‚æœä½ éœ€è¦ HTTPS è®¢é˜…ï¼Œè¯· **æ‰‹åŠ¨é…ç½® Nginx**ã€‚

### Q3ï¼šè„šæœ¬ä¼šç ´åæˆ‘å·²æœ‰çš„ Nginx å—ï¼Ÿ

**ä¸ä¼šã€‚**

- ä¸ä¿®æ”¹ server å—

- ä¸è¦†ç›–é…ç½®æ–‡ä»¶

- åªæ”¾ç½®ä¸€ä¸ªé™æ€ YAML æ–‡ä»¶

---

## ğŸ§¹ å¸è½½è¯´æ˜

å¦‚æœä½ éœ€è¦å½»åº•ç§»é™¤æœ¬é¡¹ç›®éƒ¨ç½²çš„ Hysteria2ï¼Œå¯ä½¿ç”¨å¸è½½è„šæœ¬ï¼š

```bash
curl -fsSL https://raw.githubusercontent.com/zshTolors/hy2-onekey/main/uninstall-hy2.sh | bash
```

æˆ–ï¼š

```bash
wget https://raw.githubusercontent.com/zshTolors/hy2-onekey/main/install-hy2.sh
chmod +x install-hy2.sh
./install-hy2.sh
```

### å¸è½½è„šæœ¬è¯´æ˜

- å¸è½½è„šæœ¬ **åªä¼šåˆ é™¤æœ¬é¡¹ç›®åˆ›å»ºçš„å†…å®¹**ï¼š

- Hysteria2 ç¨‹åº

- systemd æœåŠ¡

- `/etc/hysteria` é…ç½®ç›®å½•

- ``/root/hy2`` Clash é…ç½®

- æœ¬é¡¹ç›®ç”Ÿæˆçš„è®¢é˜…æ–‡ä»¶

ä¸ä¼šåˆ é™¤ï¼š

- Nginx

- Let's Encrypt è¯ä¹¦

- Certbot

- ç”¨æˆ·å·²æœ‰ç«™ç‚¹æˆ–é…ç½®

- å¦‚éœ€åˆ é™¤é˜²ç«å¢™è§„åˆ™ï¼Œè¯·è‡ªè¡Œå¤„ç†ã€‚